<h1 align="center">Проект Book Drizzle</h1>

Ссылка: https://book-drizzle.vercel.app/

![XWEAR Demo](/book-drizzle-promo.png)

## Стек

- Nuxt
- Pinia
- Drizzle
- AWS SDK
- Vuelidate
- БЭМ SCSS

## О проекте

- Приложение написано на фреймворке Nuxt (SSR, Composition API, Setup-синтаксис).

- Адаптировано и применяет препроцессор стилей SCSS.

- Стили прописаны согласно методологии БЭМ.

- Дизайн проекта взят из макета Figma для ПК. Адаптивность дорабатывалась самостоятельно.

- Ссылка: https://www.figma.com/design/OcmK7YNnqsKPQPD8OV1WYQ/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA-%D0%BF%D1%80%D0%BE%D1%87%D0%B8%D1%82%D0%B0%D0%BD%D0%BD%D1%8B%D1%85-%D0%BA%D0%BD%D0%B8%D0%B3?node-id=0-1&p=f&t=PSnFn8n6JbCibIZl-0

- SEO оптимизация не делалась, т.к. приложение пользовательское и не подразумевает какую либо интернет раскрутку.

## Авторизация / Аутентификация / Сессии

- Любой пользователь может зарегистрироваться в приложении и далее в нём логинится.

- При регистрации, в удаленной БД создается пользователь. Пароль хешируется. Сверяется почта пользователя введённая в инпут с почтами имеющимися в БД и если таковая уже имеется, то пользователю в регистрации отказывается.

- При логине, бекенд приложения проверяет в БД наличие пользователя с такой почтой и сравнивает введенный в инпут пароль с имеющимся хешированным паролем пользователя в БД.

- Во время логина, для пользователя генерируются два Jwt токена Access и Refresh. Оба токена записываются в куки, а рефреш токен ещё и добавляется в БД, в объект самого пользователя. Токены имеют защиту httpOnly, secure, sameSite. Жизнь токенов: Access - 1 мин, Refresh - 30мин.

- По окончании жизни Access токена, он в фоновом режиме обновляется бекендом и снова прописывается в куки. По окончании жизни Refresh токена, происходит разлогин. Пользователь должен снова залогинится и получить новую пару ключей.

- При перезагрузке страницы создаётся сессия. Считывается в куках Refresh токен и далее Nitro по нему находит нужного пользователя в БД и хранит его в Pinia. Также в сессию пользователя загружаются все книги, если таковые имеются и далее они тоже хранятся в Pinia.

## Работа с книгами

- Каждому пользователю показываются только его книги.

- На своей личной страничке пользователь может добавлять, редактировать и удалять книги. Устанавливать рейтинг книги, писать заметку к ней (отзыв), указывать прогресс по чтению. Многие показатели книги, отображаются на других страницах приложения.

- Также пользователь может установить годовую цель по количеству книг. Это можно сделать на странице добавления книги, внизу. И далее приложение отображает статус книг (запланированные, в процессе чтения, прочитанные), высчитывает и отрисовывает общий прогресс чтения за год. Отображается на главной странице и в сайдбаре.

- На странице "Моя библиотека" сделан поиск по названию книги или автору, а также фильтры по статусу прочтения книг. Поиск и фильтрация происходит на стороне бекенда.

## Формы / Инпуты

- Все поля инпутов валидируются сторонней библиотекой Vuelidate.

- Реализован способ добавления обложки книги с помощью Drag and Drop.

## Бекенд / База данных / Хранилище / ORM

- Весь бекенд написан на сущности Nuxt Nitro.

- База данных PostgreSQL развёрнута на облачном сервере Reg.ru и запущена в докер контейнере.

- Связь бекенда с БД осуществляет Drizzle ORM.

- Объектное хранилище S3, в которое загружаются картинки обложек книг, тоже находится на облачном сервере Reg.ru

- Связь бекенда с S3 осуществляется с помощью AWS SDK.

## Тестовый пользователь

почта: alexander@mail.ru\
пароль: 123456

## Автор работы

Александр Моругин\
декабрь 2025г
